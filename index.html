<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Buy houses and land in Sri Lanka. Verified property listings with professional photos.">
    <title>Elite Estate | Houses & Land for Sale in Sri Lanka</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3176b1',
                        secondary: '#2b3685',
                    }
                }
            }
        }
    </script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="public/images/favicon.png">

</head>

<body class="bg-gray-50 text-gray-900 font-sans antialiased flex flex-col min-h-screen">

    <!-- Sticky Search Header (Hidden initially) -->
    <div id="sticky-search-header"
        class="fixed top-4 left-4 right-4 z-[60] glass-panel rounded-full py-2 px-4 sticky-search-header hidden md:flex justify-between items-center transition-all duration-500 transform translate-y-[-150%]">
        <div class="max-w-7xl mx-auto w-full flex items-center justify-between gap-4">

            <!-- Logo (Always Visible) -->
            <a href="index.html" class="flex-shrink-0 flex items-center mr-4">
                <img src="public/images/logo.png" alt="Elite Estates" class="h-10 w-auto">
            </a>

            <!-- Mode 1: Search Container (Default) -->
            <div id="sticky-search-container"
                class="flex-1 max-w-2xl flex items-center gap-2 transition-all duration-300">
                <div class="relative w-full">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"></i>
                    <input type="text" id="sticky-search-input" placeholder="Search property code, location..."
                        class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-sm transition-all shadow-inner">
                </div>
                <button id="sticky-search-btn"
                    class="bg-primary hover:bg-secondary text-white px-6 py-2 rounded-full text-sm font-bold transition-all shadow-md active:scale-95">
                    Search
                </button>
            </div>

            <!-- Mode 2: Navigation Menu (Hidden by default) -->
            <div id="sticky-nav-container"
                class="flex-1 hidden items-center justify-center gap-8 text-sm font-medium text-gray-600 transition-all duration-300">
                <a href="index.html" class="hover:text-primary transition-colors">Home</a>
                <a href="index.html#listings" class="hover:text-primary transition-colors">Properties</a>
                <a href="about.html" class="hover:text-primary transition-colors">About Us</a>
                <a href="contact.html" class="hover:text-primary transition-colors">Contact</a>
                <a href="blog.html" class="hover:text-primary transition-colors">Blog</a>
            </div>

            <!-- Switcher Button (Right Side) -->
            <button id="header-switcher-btn"
                class="ml-4 p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-primary transition-all shadow-sm active:scale-90"
                title="Toggle Search/Menu">
                <i data-lucide="align-justify" class="w-5 h-5"></i>
            </button>

        </div>
    </div>

    <div id="navbar-container"></div>

    <!-- Hero Section -->
    <div id="hero-section" class="relative overflow-hidden pt-16 pb-8 transition-all duration-500">
        <!-- background blob -->
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-7xl pointer-events-none opacity-60">
            <div
                class="absolute top-[10%] left-[20%] w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-[80px] animate-blob">
            </div>
            <div
                class="absolute top-[10%] right-[20%] w-96 h-96 bg-sky-100 rounded-full mix-blend-multiply filter blur-[80px] animate-blob animation-delay-2000">
            </div>
            <div
                class="absolute bottom-[20%] left-[40%] w-96 h-96 bg-indigo-100/40 rounded-full mix-blend-multiply filter blur-[80px] animate-blob animation-delay-4000">
            </div>
        </div>

        <div id="hero-inner"
            class="max-w-7xl mx-auto pt-12 pb-16 md:pt-20 md:pb-24 px-4 sm:px-6 lg:px-8 text-center relative z-10 transition-all duration-300">
            <h1 class="text-3xl font-extrabold tracking-tight text-gray-900 sm:text-5xl md:text-6xl mb-8"
                data-aos="fade-down">
                <span class="block">Find your dream home</span>
                <span class="block text-primary">in Sri Lanka</span>
            </h1>

            <!-- Glassy Search Bar Container -->
            <div class="max-w-3xl mx-auto" data-aos="fade-up" data-aos-delay="200">
                <div
                    class="glass-glow rounded-[2rem] md:rounded-full p-2 flex flex-col md:flex-row items-center gap-2 transition-all duration-300">
                    <div class="flex-1 w-full relative group">
                        <div
                            class="absolute left-4 md:left-6 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-primary transition-colors">
                            <i data-lucide="search" class="w-5 h-5 md:w-6 md:h-6"></i>
                        </div>
                        <input type="text" id="main-search-input"
                            placeholder="Type keywords (e.g. Luxury Villa, Colombo 03, P-001)..."
                            class="w-full pl-12 md:pl-16 pr-4 md:pr-6 py-3 md:py-4 rounded-full bg-transparent border-none text-gray-800 font-medium text-base md:text-lg placeholder-gray-400 focus:ring-0 focus:outline-none h-full">
                    </div>
                    <button id="main-search-btn"
                        class="w-full md:w-auto bg-primary hover:bg-secondary text-white px-6 py-3 md:px-10 md:py-4 rounded-full font-bold text-base md:text-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200 flex items-center justify-center">
                        Search
                    </button>
                </div>
            </div> <!-- end of glass search wrapper -->

            <!-- Scroll Down Hint -->
            <div id="scroll-indicator" class="mt-12 flex justify-center transition-all duration-300">
                <button id="scroll-down-btn" class="animate-bounce opacity-70 hover:opacity-100 transition"
                    aria-label="Scroll to properties">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-9 h-9 text-primary" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-0 pb-6 w-full">

        <!-- Filter Toggle Button (Mobile/Desktop) -->
        <!-- Property Type Selector -->
        <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-8" data-aos="fade-in">
            <div class="flex glass-panel p-1 rounded-2xl shadow-sm w-full sm:w-auto">
                <button id="tab-houses" onclick="switchCategory('house')"
                    class="flex-1 sm:flex-none px-6 py-2 rounded-lg text-sm font-bold transition-all bg-primary text-white shadow-md">
                    Houses & Apartments
                </button>
                <button id="tab-lands" onclick="switchCategory('land')"
                    class="flex-1 sm:flex-none px-6 py-2 rounded-lg text-sm font-bold transition-all text-gray-500 hover:text-gray-700">
                    Land
                </button>
            </div>

            <button id="toggle-filters-btn"
                class="w-full sm:w-auto glass-panel flex items-center justify-center text-sm font-bold text-primary hover:bg-white/80 px-6 py-3 rounded-2xl transition-all shadow-sm hover:shadow-md">
                <i data-lucide="sliders-horizontal" class="w-4 h-4 mr-2"></i>
                <span id="filter-btn-text">Filters</span>
            </button>
        </div>

        <!-- Filters & Search Panel -->
        <div class="glass-panel p-5 md:p-6 rounded-3xl shadow-lg mb-4 hidden transition-all duration-300 transform origin-top relative z-40"
            id="filters-container">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <!-- Search -->
                <div class="col-span-1 md:col-span-4 lg:col-span-1">
                    <label for="search" class="block text-sm font-medium text-gray-700 mb-1">Keywords</label>
                    <div class="relative">
                        <input type="text" id="search" placeholder="Search property code, location..."
                            class="glass-input block w-full sm:text-sm pl-11">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i data-lucide="search" class="h-4 w-4 text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Filters Grid -->
                <!-- Location (Searchable Datalist) -->
                <div>
                    <label for="filter-location-input"
                        class="block text-sm font-medium text-gray-700 mb-1">Location</label>
                    <div class="relative">
                        <input list="locations-list" id="filter-location-input" placeholder="Type to search city..."
                            class="glass-input block w-full sm:text-sm">
                        <datalist id="locations-list">
                            <!-- Options populated by JS -->
                        </datalist>
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                            <i data-lucide="map-pin" class="h-4 w-4 text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Type -->
                <div>
                    <label for="filter-type" class="block text-sm font-medium text-gray-700 mb-1">Type</label>
                    <select id="filter-type" class="glass-input block w-full sm:text-sm">
                        <option value="any">Any Type</option>
                        <option value="sale">For Sale</option>
                        <option value="rent">For Rent</option>
                    </select>
                </div>

                <!-- Price Range (Dual Slider) -->
                <div class="col-span-1 md:col-span-1">
                    <label class="block text-sm font-medium text-gray-700 mb-2 flex justify-between">
                        <span>Price Range</span>
                        <span id="price-display"
                            class="text-primary font-bold text-xs bg-primary-50 px-2 py-0.5 rounded">Any</span>
                    </label>
                    <div class="range-slider-container">
                        <div class="slider-track"></div>
                        <input type="range" id="price-min" min="0" max="200000000" step="1000000" value="0">
                        <input type="range" id="price-max" min="0" max="200000000" step="1000000" value="200000000">
                    </div>
                </div>
            </div>

            <!-- Advanced/Secondary Filters -->
            <div class="mt-6 pt-6 border-t border-gray-100">

                <!-- HOUSE FILTERS -->
                <div id="house-filters" class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div>
                        <label for="filter-beds" class="block text-sm font-medium text-gray-700 mb-1">Bedrooms</label>
                        <select id="filter-beds" class="glass-input block w-full sm:text-sm">
                            <option value="any">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                        </select>
                    </div>
                    <div>
                        <label for="filter-baths" class="block text-sm font-medium text-gray-700 mb-1">Bathrooms</label>
                        <select id="filter-baths" class="glass-input block w-full sm:text-sm">
                            <option value="any">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                        </select>
                    </div>
                    <div>
                        <label for="filter-size" class="block text-sm font-medium text-gray-700 mb-1">Min Floor Area
                            (sqft)</label>
                        <input type="number" id="filter-size" placeholder="e.g. 1000"
                            class="glass-input block w-full sm:text-sm">
                    </div>
                    <div>
                        <label for="filter-condition"
                            class="block text-sm font-medium text-gray-700 mb-1">Condition</label>
                        <select id="filter-condition" class="glass-input block w-full sm:text-sm">
                            <option value="any">Any Condition</option>
                            <option value="new">Brand New</option>
                            <option value="used">Used</option>
                            <option value="renovated">Renovated</option>
                        </select>
                    </div>
                    <label for="filter-parking"
                        class="flex items-center justify-between bg-white/30 px-4 py-3 rounded-2xl border border-white/40 backdrop-blur-sm cursor-pointer hover:bg-white/50 transition-all group">
                        <span class="text-sm font-bold text-gray-700 group-hover:text-primary transition-colors">
                            Parking Required
                        </span>
                        <div class="glass-toggle">
                            <input type="checkbox" id="filter-parking">
                            <span class="toggle-slider"></span>
                        </div>
                    </label>

                    <div class="flex items-end">
                        <button id="reset-filters"
                            class="h-[52px] bg-gray-100 text-gray-700 hover:bg-gray-200 px-6 rounded-2xl text-sm font-medium transition-colors flex justify-center items-center">
                            <i data-lucide="rotate-ccw" class="w-4 h-4 mr-2"></i>
                            Reset Filter
                        </button>
                    </div>
                </div>

                <!-- LAND FILTERS -->
                <div id="land-filters" class="grid grid-cols-1 md:grid-cols-4 gap-6 hidden">
                    <div>
                        <label for="filter-perches" class="block text-sm font-medium text-gray-700 mb-1">Min
                            Perches</label>
                        <input type="number" id="filter-perches" placeholder="e.g. 10"
                            class="glass-input block w-full sm:text-sm">
                    </div>
                    <label for="filter-electricity"
                        class="flex items-center justify-between bg-white/30 px-4 py-3 rounded-2xl border border-white/40 backdrop-blur-sm cursor-pointer hover:bg-white/50 transition-all group">
                        <span
                            class="text-sm font-bold text-gray-700 group-hover:text-primary transition-colors">Electricity
                            Required</span>
                        <div class="glass-toggle">
                            <input type="checkbox" id="filter-electricity">
                            <span class="toggle-slider"></span>
                        </div>
                    </label>
                    <label for="filter-water"
                        class="flex items-center justify-between bg-white/30 px-4 py-3 rounded-2xl border border-white/40 backdrop-blur-sm cursor-pointer hover:bg-white/50 transition-all group">
                        <span class="text-sm font-bold text-gray-700 group-hover:text-primary transition-colors">Water
                            Supply Required</span>
                        <div class="glass-toggle">
                            <input type="checkbox" id="filter-water">
                            <span class="toggle-slider"></span>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Results Display Section -->
        <section id="results-section">
            <!-- Listings Grid -->
            <div id="listings-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Initial Loading State -->
                <div class="col-span-full text-center py-12">
                    <i data-lucide="loader-2" class="animate-spin h-8 w-8 text-primary mx-auto"></i>
                    <p class="mt-2 text-gray-500">Loading properties...</p>
                </div>
            </div>

            <!-- Empty State -->
            <div id="no-results" class="hidden text-center py-12">
                <div class="bg-gray-100 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="search-x" class="h-8 w-8 text-gray-400"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900">No properties found</h3>
                <p class="text-gray-500 mt-1">Try adjusting your filters to see more results.</p>
            </div>
        </section>

    </main>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- App Scripts (Strict Order, No Module) -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/properties.js"></script>
    <script src="js/components.js"></script>
    <script src="js/app.js"></script>
    <!-- AOS Animation JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Init happens after scripts load
        document.addEventListener('DOMContentLoaded', window.initHome);
    </script>
</body>


</html>